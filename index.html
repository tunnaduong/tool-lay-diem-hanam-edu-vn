<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Google tag (gtag.js) -->
    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=G-15X3QZ453F"
    ></script>
    <script>
      document.addEventListener("alpine:init", () => {
        Alpine.data("app", () => ({
          version: "v3.2.5",
        }));
      });
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());

      gtag("config", "G-15X3QZ453F");
    </script>
    <title>
      Tra cứu điểm thi Hanam.edu.vn nhanh chóng, đơn giản, giao diện tối ưu
    </title>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />

    <!-- Alpine.js -->
    <script src="//unpkg.com/alpinejs" defer></script>

    <!-- Bootstrap Icons -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css"
    />

    <!-- Bootstrap CSS v5.2.1 -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
      crossorigin="anonymous"
    />
    <meta property="og:url" content="https://diemthi.tunnaduong.com" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Công cụ tra cứu điểm Hanam.edu.vn" />
    <meta
      property="og:description"
      content="Công cụ tra cứu điểm thi nhanh, tiện lợi, chính xác dành cho học sinh Hà Nam"
    />
    <meta
      property="og:image"
      content="https://diemthi.tunnaduong.com/image.jpg"
    />
    <meta
      name="description"
      content="Công cụ tra cứu điểm thi Hanam.edu.vn nhanh hơn, giao diện đơn giản, thân thiện trên điện thoại. Không còn lo lắng khi website chính thức quá tải."
    />
    <meta
      name="keywords"
      content="tra cứu điểm thi Hà Nam, hanam.edu.vn, xem điểm thi nhanh, công cụ tra cứu điểm thi, điểm thi THPT Hà Nam"
    />
    <meta name="date" content="2025-03-04" scheme="YYYY-MM-DD" />
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "WebPage",
        "name": "Tra cứu điểm thi Hà Nam 2025",
        "datePublished": "2025-03-04T00:00:00+07:00",
        "dateModified": "2025-03-04T00:00:00+07:00"
      }
    </script>

    <link rel="stylesheet" href="style.css" />

    <link rel="icon" type="image/x-icon" href="favicon.ico" />
  </head>

  <body>
    <main class="container">
      <div class="main-container animate-fade-in">
        <!-- Header Section -->
        <div class="header-section">
          <div class="header-content">
            <div class="social-section">
              <iframe
                src="https://www.facebook.com/plugins/like.php?href=https%3A%2F%2Fdiemthi.tunnaduong.com&width=400&layout&action&size&share=true&height=35&appId=1087511252159238"
                width="400"
                height="40"
                style="border: none; overflow: hidden"
                scrolling="no"
                frameborder="0"
                allowfullscreen="true"
                allow="autoplay; clipboard-write; encrypted-media; picture-in-picture; web-share"
                id="fb-like"
              ></iframe>
              <a
                href="https://github.com/tunnaduong/tool-lay-diem-hanam-edu-vn"
                target="_blank"
                class="github-badge"
                style="margin-top: -10px"
              >
                <img
                  alt="GitHub Repo stars"
                  src="https://img.shields.io/github/stars/tunnaduong/tool-lay-diem-hanam-edu-vn"
                />
              </a>
            </div>
            <h1 class="main-title">
              <i class="bi bi-mortarboard-fill me-3"></i>
              Công cụ tra cứu điểm Hanam.edu.vn
            </h1>
            <p class="subtitle">
              <i class="bi bi-shield-check me-2"></i>
              Tra cứu nhanh chóng, chính xác và bảo mật
            </p>
          </div>
        </div>

        <!-- Form Section -->
        <div class="form-section">
          <div class="feature-highlight">
            <div class="d-flex align-items-center">
              <i
                class="bi bi-info-circle-fill text-warning me-3"
                style="font-size: 1.5rem"
              ></i>
              <div>
                <strong>Lưu ý:</strong> Vui lòng nhập đúng thông tin để có kết
                quả chính xác nhất.<br />
                Mã học sinh và mã captcha có thể viết hoặc viết thường.
              </div>
            </div>
          </div>

          <div class="form-card">
            <form id="form">
              <div class="row">
                <div class="col-md-6 mb-4">
                  <label for="student_id" class="form-label">
                    <i class="bi bi-person-badge text-primary"></i>
                    Mã học sinh
                  </label>
                  <input
                    type="text"
                    class="form-control"
                    id="student_id"
                    placeholder="VD: HEAD1259168"
                    required
                  />
                  <div class="form-text">
                    <i class="bi bi-lightbulb text-warning"></i>
                    Mã học sinh thường bắt đầu bằng HEAD
                  </div>
                </div>

                <div class="col-md-6 mb-4">
                  <label for="year" class="form-label">
                    <i class="bi bi-calendar-event text-success"></i>
                    Năm học
                  </label>
                  <select id="year" class="form-select" required>
                    <option value="2025">2025 - 2026</option>
                    <option selected value="2024">2024 - 2025</option>
                    <option value="2023">2023 - 2024</option>
                    <option value="2022">2022 - 2023</option>
                    <option value="2021">2021 - 2022</option>
                    <option value="2020">2020 - 2021</option>
                    <option value="2019">2019 - 2020</option>
                  </select>
                </div>
              </div>

              <div class="mb-4">
                <label for="semester" class="form-label">
                  <i class="bi bi-bookmark text-info"></i>
                  Học kỳ
                </label>
                <select id="semester" class="form-select" required>
                  <option value="1">
                    <i class="bi bi-1-circle"></i> Học kỳ 1
                  </option>
                  <option value="2">
                    <i class="bi bi-2-circle"></i> Học kỳ 2
                  </option>
                  <option value="3">
                    <i class="bi bi-calendar-check"></i> Cả năm
                  </option>
                </select>
              </div>

              <!-- Captcha Section -->
              <div class="captcha-section d-none" id="captcha">
                <div class="d-flex align-items-center mb-3">
                  <i class="bi bi-shield-lock-fill text-warning me-2"></i>
                  <strong>Xác thực bảo mật</strong>
                </div>
                <div class="d-flex align-items-center mb-3">
                  <img
                    src="./loading.gif"
                    id="capcha"
                    width="120"
                    height="40"
                    class="captcha-image"
                  />
                  <button
                    type="button"
                    class="btn btn-outline-secondary refresh-captcha"
                    id="refresh-captcha"
                  >
                    <i class="bi bi-arrow-clockwise"></i>
                  </button>
                </div>
                <label for="captcha_code" class="form-label">
                  <i class="bi bi-key text-warning"></i>
                  Mã captcha
                </label>
                <input
                  type="text"
                  class="form-control"
                  id="captcha_code"
                  placeholder="Nhập mã captcha"
                />
              </div>

              <!-- Error Message -->
              <div class="error-message" id="error_message">
                <i class="bi bi-exclamation-triangle-fill me-2"></i>
                <span id="error_text"></span>
              </div>

              <!-- Loading Spinner -->
              <div class="loading-spinner" id="loading">
                <div class="spinner-border text-primary" role="status">
                  <span class="visually-hidden">Đang tải...</span>
                </div>
                <p class="mt-1 text-muted">Đang xử lý yêu cầu...</p>
              </div>

              <!-- Action Buttons -->
              <div class="d-flex gap-3 flex-wrap" id="btnLoad">
                <button
                  type="button"
                  id="getScore"
                  class="btn btn-custom btn-primary-custom"
                >
                  <i class="bi bi-clipboard-data me-2"></i>
                  Lấy điểm
                </button>
                <button
                  type="button"
                  id="getStudentInfo"
                  class="btn btn-custom btn-secondary-custom"
                >
                  <i class="bi bi-person-lines-fill me-2"></i>
                  Lấy thông tin học sinh
                </button>
              </div>
            </form>
          </div>

          <!-- Student Info Results -->
          <div class="results-section" id="studentInfo" style="display: none">
            <div class="results-card animate-fade-in">
              <div class="results-header">
                <i class="bi bi-person-circle me-2"></i>
                Hồ sơ học sinh
              </div>
              <div class="table-responsive">
                <table
                  id="info_table"
                  class="table table-custom table-bordered"
                >
                  <thead>
                    <tr>
                      <th><i class="bi bi-person me-2"></i>Họ và tên</th>
                      <th><i class="bi bi-calendar3 me-2"></i>Ngày sinh</th>
                      <th><i class="bi bi-buildings me-2"></i>Trường</th>
                      <th><i class="bi bi-door-open me-2"></i>Lớp</th>
                      <th>
                        <i class="bi bi-gender-ambiguous me-2"></i>Giới tính
                      </th>
                    </tr>
                  </thead>
                  <tbody></tbody>
                </table>
              </div>
            </div>
          </div>

          <!-- Student Grades Results -->
          <div class="results-section" id="studentGrade" style="display: none">
            <div class="results-card animate-fade-in">
              <div class="results-header">
                <i class="bi bi-graph-up me-2"></i>
                Kết quả học tập
              </div>
              <div class="table-responsive">
                <table
                  id="grade_table"
                  class="table table-striped table-bordered table-custom"
                >
                  <thead>
                    <tr>
                      <th rowspan="2">
                        <i class="bi bi-book me-2"></i>Môn học
                      </th>
                      <th class="text-center" colspan="3">
                        <i class="bi bi-clipboard-data me-2"></i>Điểm thành phần
                      </th>
                      <th rowspan="2">
                        <i class="bi bi-trophy me-2"></i>Điểm TB
                      </th>
                    </tr>
                    <tr>
                      <th>Thường xuyên</th>
                      <th>Giữa kỳ</th>
                      <th>Cuối kỳ</th>
                    </tr>
                  </thead>
                  <tbody></tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
      </div>
      <script>
        document.addEventListener("alpine:init", () => {
          Alpine.data("recentLookups", () => ({
            lookups: [],
            loading: false,
            fetchLookups() {
              this.loading = true;
              fetch(
                "https://tunnaduong.com/test_api/diemthi_lookup_result_api.php"
              )
                .then((res) => res.json())
                .then((data) => {
                  this.lookups = data.results;
                })
                .catch((e) => {
                  console.error("Fetch error:", e);
                  this.lookups = [];
                })
                .finally(() => {
                  this.loading = false;
                });
            },
            maskName(name) {
              let parts = name.trim().split(" ");
              if (parts.length === 0) return "";
              parts[parts.length - 1] = "*****";
              return parts.join(" ");
            },
            init() {
              this.fetchLookups();
              setInterval(() => {
                this.fetchLookups();
              }, 30000);
            },
          }));
        });
      </script>
      <!-- Recent Lookups Section -->
      <div
        class="recent-lookups-container main-container"
        x-data="recentLookups"
        x-init="init()"
      >
        <div class="recent-lookups-header text-center header-section">
          <h4 class="mb-0 text-uppercase">
            <i class="bi bi-clock-history me-2"></i>
            Các lượt tra cứu điểm mới nhất
          </h4>
        </div>

        <div class="p-4">
          <div class="d-flex justify-content-between align-items-center mb-3">
            <small class="text-muted">
              <i class="bi bi-arrow-clockwise auto-refresh"></i>
              Cập nhật tự động mỗi 30 giây
            </small>
            <span class="badge bg-success">
              <i class="bi bi-wifi"></i> Trực tuyến
            </span>
          </div>

          <!-- Loading indicator -->
          <template x-if="loading">
            <!-- Loading Skeleton -->
            <div>
              <div class="skeleton-card"></div>
              <div class="skeleton-card"></div>
              <div class="skeleton-card"></div>
              <div class="skeleton-card"></div>
              <div class="skeleton-card"></div>
            </div>
          </template>

          <template x-if="!loading">
            <template x-for="student in lookups" :key="student.id">
              <div class="lookup-card p-3">
                <div class="d-flex justify-content-between align-items-center">
                  <div class="flex-grow-1">
                    <div
                      class="student-name"
                      x-text="maskName(student.name)"
                    ></div>
                    <div class="info-text">
                      Lớp:
                      <span x-text="student.class || 'Đang cập nhật'"></span>,
                      <span
                        x-text="student.school || 'Trường: Đang cập nhật'"
                      ></span>
                    </div>
                  </div>
                </div>
              </div>
            </template>
          </template>

          <!-- Nếu không có dữ liệu -->
          <template x-if="!loading && lookups.length === 0">
            <div class="text-center text-muted py-4">
              Không có dữ liệu tra cứu.
            </div>
          </template>
        </div>
      </div>
      <script>
        document.addEventListener("alpine:init", () => {
          Alpine.data("commentApp", () => ({
            comments: [],
            page: 1,
            perPage: 5,
            hasMore: true,
            total: 0,
            form: {
              name: "",
              comment: "",
            },
            replyForm: {
              name: "",
              comment: "",
            },
            replyTo: null,
            apiUrl: "https://tunnaduong.com/test_api/diemthi_comment_api.php",
            loading: false,

            getTotalComments() {
              let total = 0;
              const countReplies = (comments) => {
                total += comments.length;
                for (const comment of comments) {
                  if (comment.replies?.length) {
                    countReplies(comment.replies);
                  }
                }
              };
              countReplies(this.comments);
              return total;
            },

            fetchComments() {
              this.loading = true;
              fetch(
                this.apiUrl +
                  `?action=comments&page=${this.page}&per_page=${this.perPage}`
              )
                .then((res) => res.json())
                .then((data) => {
                  if (this.page === 1) {
                    this.comments = data.results;
                  } else {
                    this.comments = [...this.comments, ...data.results];
                  }
                  // Update total count
                  this.total = data.total || this.getTotalComments();
                  // Check if we have loaded all comments
                  this.hasMore = this.comments.length < this.total;
                })
                .finally(() => (this.loading = false));
            },

            loadMore() {
              this.page++;
              this.fetchComments();
            },

            submitComment() {
              const payload = {
                name: this.form.name,
                comment: this.form.comment,
                parent_id: null,
              };
              fetch(this.apiUrl + "?action=comments", {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify(payload),
              })
                .then((res) => res.json())
                .then(() => {
                  this.form.name = "";
                  this.form.comment = "";
                  this.fetchComments();
                });
            },

            submitReply(parentId) {
              // Find the level 3 parent or use the current parent
              const findLevel3Parent = (comments, targetId) => {
                for (const comment of comments) {
                  if (comment.id === targetId) {
                    return comment.id;
                  }
                  if (comment.replies?.length) {
                    for (const reply of comment.replies) {
                      if (reply.id === targetId) {
                        return reply.id;
                      }
                      // If we find the target in level 3 or deeper, return its parent
                      if (reply.replies?.length) {
                        for (const nestedReply of reply.replies) {
                          if (nestedReply.id === targetId) {
                            return reply.id; // Return level 2 parent
                          }
                        }
                      }
                    }
                  }
                }
                return targetId;
              };

              const actualParentId = findLevel3Parent(this.comments, parentId);

              const payload = {
                name: this.replyForm.name,
                comment: this.replyForm.comment,
                parent_id: actualParentId,
              };
              fetch(this.apiUrl + "?action=comments", {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify(payload),
              })
                .then((res) => res.json())
                .then(() => {
                  this.replyForm.name = "";
                  this.replyForm.comment = "";
                  this.replyTo = null;
                  this.fetchComments();
                });
            },

            getInitial(name) {
              if (!name) return "";
              const parts = name.trim().split(/\s+/);
              if (parts.length === 1) {
                const word = parts[0];
                return (word[0] + word.at(-1)).toUpperCase();
              }
              return (parts[0][0] + parts.at(-1)[0]).toUpperCase();
            },

            formatTime(time) {
              return new Date(time).toLocaleString("vi-VN", {
                hour: "2-digit",
                minute: "2-digit",
                day: "2-digit",
                month: "2-digit",
                year: "numeric",
              });
            },

            likeComment(commentId) {
              fetch(`${this.apiUrl}?action=like`, {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify({
                  comment_id: commentId,
                }),
              })
                .then((res) => res.json())
                .then(() => {
                  this.fetchComments();
                });
            },
          }));
        });
      </script>

      <div
        class="comment-section main-container"
        x-data="commentApp"
        x-init="fetchComments()"
      >
        <div class="header-section">
          <h4 class="mb-0 text-uppercase">💬 Thảo luận & Bình luận</h4>
        </div>
        <!-- Comment Form -->
        <div class="border-bottom p-4">
          <h5 class="mb-3">
            <i class="bi bi-pencil-square text-primary"></i> Viết bình luận
          </h5>

          <form @submit.prevent="submitComment()">
            <div class="row mb-3">
              <div class="col-md-6">
                <label for="name" class="form-label">*Họ và tên</label>
                <input
                  type="text"
                  class="form-control"
                  id="name"
                  x-model="form.name"
                  required
                  placeholder="Nhập họ tên của bạn"
                />
              </div>
            </div>
            <div class="mb-3">
              <label for="comment" class="form-label"
                >*Nội dung bình luận</label
              >
              <textarea
                class="form-control"
                id="comment"
                rows="4"
                x-model="form.comment"
                required
                placeholder="Chia sẻ cảm nghĩ, thắc mắc hoặc kinh nghiệm của bạn về kết quả thi..."
              ></textarea>
            </div>
            <button type="submit" class="btn btn-primary">
              <i class="bi bi-send"></i> Đăng bình luận
            </button>
          </form>
        </div>

        <!-- Comment List -->
        <div class="mt-4">
          <div
            class="d-flex justify-content-between align-items-center p-3 border-bottom"
          >
            <h5 class="mb-0 d-flex align-items-center gap-2">
              <i class="bi bi-chat-text text-primary"></i>
              Bình luận
              <span
                class="badge bg-primary rounded-pill"
                x-text="getTotalComments()"
              ></span>
            </h5>
          </div>

          <!-- Loading -->
          <div class="text-center my-4" x-show="loading">
            <div class="spinner-border text-primary"></div>
          </div>

          <!-- Comment Items -->
          <template x-for="comment in comments" :key="comment.id">
            <div>
              <div class="card comment-card border-0 shadow-sm">
                <div class="card-body">
                  <div
                    class="d-flex justify-content-between align-items-start mb-3"
                  >
                    <div class="d-flex align-items-center">
                      <div
                        class="avatar me-3"
                        x-text="getInitial(comment.name)"
                      ></div>
                      <div>
                        <h6 class="mb-1 fw-bold" x-text="comment.name"></h6>
                      </div>
                    </div>
                    <small class="text-muted">
                      <i class="bi bi-clock"></i>
                      <span x-text="formatTime(comment.created_at)"></span>
                    </small>
                  </div>
                  <p class="card-text" x-text="comment.comment"></p>
                  <div class="d-flex gap-3">
                    <button
                      class="btn btn-sm btn-outline-danger"
                      @click="likeComment(comment.id)"
                    >
                      <i class="bi bi-heart-fill"></i>
                      <span x-text="comment.likes_count ?? 0"></span>
                    </button>
                    <button
                      class="btn btn-sm btn-outline-primary"
                      @click="replyTo = replyTo === comment.id ? null : comment.id"
                    >
                      <i class="bi bi-reply"></i> Trả lời
                    </button>
                  </div>

                  <!-- Form trả lời -->
                  <div
                    class="mt-3"
                    x-show="replyTo === comment.id"
                    x-transition
                  >
                    <form @submit.prevent="submitReply(comment.id)">
                      <input
                        type="text"
                        class="form-control mb-2"
                        placeholder="*Tên bạn"
                        x-model="replyForm.name"
                        required
                      />
                      <textarea
                        class="form-control mb-2"
                        rows="2"
                        placeholder="*Trả lời bình luận..."
                        x-model="replyForm.comment"
                        required
                      ></textarea>
                      <div class="d-flex justify-content-end gap-2">
                        <button
                          type="button"
                          class="btn btn-sm btn-outline-secondary"
                          @click="replyTo = null"
                        >
                          Hủy
                        </button>
                        <button type="submit" class="btn btn-sm btn-primary">
                          Gửi
                        </button>
                      </div>
                    </form>
                  </div>
                </div>
                <!-- Replies outside the parent card -->
                <template x-if="comment.replies?.length">
                  <template x-for="reply in comment.replies" :key="reply.id">
                    <div>
                      <div class="reply-section">
                        <div class="card border-0 bg-light">
                          <div class="card-body py-3">
                            <div
                              class="d-flex justify-content-between align-items-start mb-2"
                            >
                              <div class="d-flex align-items-center">
                                <div
                                  class="avatar me-3"
                                  style="
                                    width: 35px;
                                    height: 35px;
                                    font-size: 14px;
                                  "
                                  x-text="getInitial(reply.name)"
                                ></div>
                                <div>
                                  <h6
                                    class="mb-1 fs-6 fw-bold"
                                    x-text="reply.name"
                                  ></h6>
                                </div>
                              </div>
                              <small class="text-muted">
                                <i class="bi bi-clock"></i>
                                <span
                                  x-text="formatTime(reply.created_at)"
                                ></span>
                              </small>
                            </div>
                            <p
                              class="card-text mb-2"
                              x-text="reply.comment"
                            ></p>
                            <div class="d-flex gap-3">
                              <button
                                class="btn btn-sm btn-outline-danger"
                                @click="likeComment(reply.id)"
                              >
                                <i class="bi bi-heart-fill"></i>
                                <span x-text="reply.likes_count ?? 0"></span>
                              </button>
                              <button
                                class="btn btn-sm btn-outline-primary"
                                @click="replyTo = replyTo === reply.id ? null : reply.id"
                              >
                                <i class="bi bi-reply"></i> Trả lời
                              </button>
                            </div>

                            <!-- Form trả lời cho reply -->
                            <div
                              class="mt-3"
                              x-show="replyTo === reply.id"
                              x-transition
                            >
                              <form @submit.prevent="submitReply(reply.id)">
                                <input
                                  type="text"
                                  class="form-control mb-2"
                                  placeholder="*Tên bạn"
                                  x-model="replyForm.name"
                                  required
                                />
                                <textarea
                                  class="form-control mb-2"
                                  rows="2"
                                  placeholder="*Trả lời bình luận..."
                                  x-model="replyForm.comment"
                                  required
                                ></textarea>
                                <div class="d-flex justify-content-end gap-2">
                                  <button
                                    type="button"
                                    class="btn btn-sm btn-outline-secondary"
                                    @click="replyTo = null"
                                  >
                                    Hủy
                                  </button>
                                  <button
                                    type="submit"
                                    class="btn btn-sm btn-primary"
                                  >
                                    Gửi
                                  </button>
                                </div>
                              </form>
                            </div>
                          </div>
                        </div>
                      </div>

                      <!-- Nested replies outside their parent reply card -->
                      <template x-if="reply.replies?.length">
                        <div class="ps-4">
                          <template
                            x-for="nestedReply in reply.replies"
                            :key="nestedReply.id"
                          >
                            <div class="reply-section">
                              <div class="card border-0 bg-light">
                                <div class="card-body py-3">
                                  <div
                                    class="d-flex justify-content-between align-items-start mb-2"
                                  >
                                    <div class="d-flex align-items-center">
                                      <div
                                        class="avatar me-3"
                                        style="
                                          width: 35px;
                                          height: 35px;
                                          font-size: 14px;
                                        "
                                        x-text="getInitial(nestedReply.name)"
                                      ></div>
                                      <div>
                                        <h6
                                          class="mb-1 fs-6 fw-bold"
                                          x-text="nestedReply.name"
                                        ></h6>
                                      </div>
                                    </div>
                                    <small class="text-muted">
                                      <i class="bi bi-clock"></i>
                                      <span
                                        x-text="formatTime(nestedReply.created_at)"
                                      ></span>
                                    </small>
                                  </div>
                                  <p
                                    class="card-text mb-2"
                                    x-text="nestedReply.comment"
                                  ></p>
                                  <div class="d-flex gap-3">
                                    <button
                                      class="btn btn-sm btn-outline-danger"
                                      @click="likeComment(nestedReply.id)"
                                    >
                                      <i class="bi bi-heart-fill"></i>
                                      <span
                                        x-text="nestedReply.likes_count ?? 0"
                                      ></span>
                                    </button>
                                    <button
                                      class="btn btn-sm btn-outline-primary"
                                      @click="replyTo = replyTo === nestedReply.id ? null : nestedReply.id"
                                    >
                                      <i class="bi bi-reply"></i> Trả lời
                                    </button>
                                  </div>

                                  <!-- Form trả lời cho nested reply -->
                                  <div
                                    class="mt-3"
                                    x-show="replyTo === nestedReply.id"
                                    x-transition
                                  >
                                    <form
                                      @submit.prevent="submitReply(nestedReply.id)"
                                    >
                                      <input
                                        type="text"
                                        class="form-control mb-2"
                                        placeholder="*Tên bạn"
                                        x-model="replyForm.name"
                                        required
                                      />
                                      <textarea
                                        class="form-control mb-2"
                                        rows="2"
                                        placeholder="*Trả lời bình luận..."
                                        x-model="replyForm.comment"
                                        required
                                      ></textarea>
                                      <div
                                        class="d-flex justify-content-end gap-2"
                                      >
                                        <button
                                          type="button"
                                          class="btn btn-sm btn-outline-secondary"
                                          @click="replyTo = null"
                                        >
                                          Hủy
                                        </button>
                                        <button
                                          type="submit"
                                          class="btn btn-sm btn-primary"
                                        >
                                          Gửi
                                        </button>
                                      </div>
                                    </form>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </template>
                        </div>
                      </template>
                    </div>
                  </template>
                </template>
              </div>
            </div>
          </template>

          <!-- Load More Button -->
          <div class="text-center my-4" x-show="hasMore && !loading">
            <button class="btn btn-outline-primary" @click="loadMore()">
              <i class="bi bi-arrow-down-circle"></i> Xem thêm bình luận
            </button>
          </div>

          <!-- Loading Spinner for Load More -->
          <div class="text-center mt-4" x-show="loading">
            <div class="spinner-border text-primary" role="status">
              <span class="visually-hidden">Đang tải...</span>
            </div>
          </div>
        </div>
      </div>
      <article class="main-container p-4">
        <h2>
          Tra Cứu Điểm Thi Hà Nam Nhanh Chóng, Giao Diện Thân Thiện & Tối Ưu
        </h2>

        <p>
          Bạn từng cảm thấy khó khăn khi
          <strong>tra cứu điểm thi trên website Hanam.edu.vn</strong>? Giao diện
          rối rắm, tốc độ chậm, và không tối ưu trên điện thoại là những vấn đề
          phổ biến mà rất nhiều phụ huynh và học sinh gặp phải.
        </p>

        <h3>❌ Những bất cập khi tra cứu điểm thi truyền thống:</h3>
        <ul>
          <li>⏳ Tải trang chậm, đặc biệt vào thời điểm cao điểm</li>
          <li>🧭 Giao diện phức tạp, khó sử dụng</li>
          <li>📱 Không thân thiện với thiết bị di động</li>
        </ul>

        <h3>✅ Công cụ tra cứu điểm thi thay thế - nhanh hơn, gọn hơn:</h3>
        <p>
          Chúng tôi phát triển một
          <strong>công cụ tra cứu điểm thi Hanam.edu.vn</strong> thân thiện với
          người dùng, giúp bạn tiết kiệm thời gian và tra cứu dễ dàng hơn bao
          giờ hết.
        </p>

        <h4>⚡ Ưu điểm của công cụ:</h4>
        <ul>
          <li>Tốc độ tải nhanh chóng, không giật lag</li>
          <li>Giao diện tối giản, dễ thao tác</li>
          <li>Tối ưu hoàn toàn cho điện thoại và máy tính bảng</li>
          <li>Không lưu trữ thông tin cá nhân, đảm bảo bảo mật</li>
        </ul>

        <h3>🧪 Cách sử dụng:</h3>
        <ol>
          <li>Nhập mã học sinh và thông tin năm học, học kỳ</li>
          <li>Nhấn nút "Lấy điểm" hoặc "Tra cứu thông tin học sinh"</li>
          <li>Xem kết quả ngay lập tức</li>
        </ol>

        <p>
          Hãy quên đi những lần chờ đợi mỏi mòn và trải nghiệm ngay một cách
          <strong>tra cứu điểm thi nhanh chóng, đơn giản và tiện lợi</strong>.
        </p>

        <p>
          👉 Truy cập ngay:
          <a href="https://diemthi.tunnaduong.com"
            >https://diemthi.tunnaduong.com</a
          >
          để bắt đầu!
        </p>

        <h1 class="fs-3 mb-4 mt-5">Câu hỏi thường gặp</h1>
        <div class="accordion" id="faqAccordion">
          <!-- Câu hỏi 1 -->
          <div class="accordion-item">
            <h2 class="accordion-header" id="faqHeadingOne">
              <button
                class="accordion-button"
                type="button"
                data-bs-toggle="collapse"
                data-bs-target="#faqCollapseOne"
                aria-expanded="true"
                aria-controls="faqCollapseOne"
              >
                1. Làm thế nào để tra cứu điểm thi?
              </button>
            </h2>
            <div
              id="faqCollapseOne"
              class="accordion-collapse collapse show"
              aria-labelledby="faqHeadingOne"
              data-bs-parent="#faqAccordion"
            >
              <div class="accordion-body">
                Bạn chỉ cần nhập <strong>mã học sinh</strong>,
                <strong>năm học</strong> và <strong>học kỳ</strong> vào ô tra
                cứu và nhấn nút "Tra cứu". Hệ thống sẽ tự động lấy dữ liệu và
                hiển thị kết quả ngay trên màn hình.
              </div>
            </div>
          </div>

          <!-- Câu hỏi 2 -->
          <div class="accordion-item">
            <h2 class="accordion-header" id="faqHeadingTwo">
              <button
                class="accordion-button collapsed"
                type="button"
                data-bs-toggle="collapse"
                data-bs-target="#faqCollapseTwo"
                aria-expanded="false"
                aria-controls="faqCollapseTwo"
              >
                2. Tôi không xem được điểm, phải làm sao?
              </button>
            </h2>
            <div
              id="faqCollapseTwo"
              class="accordion-collapse collapse"
              aria-labelledby="faqHeadingTwo"
              data-bs-parent="#faqAccordion"
            >
              <div class="accordion-body">
                Nếu bạn không xem được điểm, hãy kiểm tra lại:
                <ul>
                  <li>Mã học sinh đã nhập đúng chưa</li>
                  <li>Kết nối mạng có ổn định không</li>
                </ul>
                Nếu vẫn không được, bạn có thể thử lại sau vài phút hoặc liên hệ
                với nhà trường để xác nhận thông tin.
              </div>
            </div>
          </div>

          <!-- Câu hỏi 3 -->
          <div class="accordion-item">
            <h2 class="accordion-header" id="faqHeadingThree">
              <button
                class="accordion-button collapsed"
                type="button"
                data-bs-toggle="collapse"
                data-bs-target="#faqCollapseThree"
                aria-expanded="false"
                aria-controls="faqCollapseThree"
              >
                3. Hệ thống có bảo mật thông tin không?
              </button>
            </h2>
            <div
              id="faqCollapseThree"
              class="accordion-collapse collapse"
              aria-labelledby="faqHeadingThree"
              data-bs-parent="#faqAccordion"
            >
              <div class="accordion-body">
                Có. Tất cả thông tin học sinh đều được truy xuất trực tiếp từ hệ
                thống chính thức, không lưu trữ trên máy chủ trung gian và hoàn
                toàn bảo mật.
              </div>
            </div>
          </div>

          <!-- Câu hỏi 4 -->
          <div class="accordion-item">
            <h2 class="accordion-header" id="faqHeadingFour">
              <button
                class="accordion-button collapsed"
                type="button"
                data-bs-toggle="collapse"
                data-bs-target="#faqCollapseFour"
                aria-expanded="false"
                aria-controls="faqCollapseFour"
              >
                4. Hệ thống này có chính thức không?
              </button>
            </h2>
            <div
              id="faqCollapseFour"
              class="accordion-collapse collapse"
              aria-labelledby="faqHeadingFour"
              data-bs-parent="#faqAccordion"
            >
              <div class="accordion-body">
                Trang web sử dụng dữ liệu được lấy trực tiếp từ hệ thống
                <a href="https://hanam.edu.vn">hanam.edu.vn</a>, đảm bảo chính
                xác và đầy đủ. Chúng tôi chỉ cung cấp giao diện đơn giản và tiện
                lợi hơn để hỗ trợ học sinh và phụ huynh tra cứu nhanh chóng.
              </div>
            </div>
          </div>

          <!-- Câu hỏi 7 -->
          <div class="accordion-item">
            <h2 class="accordion-header" id="faqHeadingSeven">
              <button
                class="accordion-button collapsed"
                type="button"
                data-bs-toggle="collapse"
                data-bs-target="#faqCollapseSeven"
                aria-expanded="false"
                aria-controls="faqCollapseSeven"
              >
                5. Tôi có thể xem lại điểm cũ không?
              </button>
            </h2>
            <div
              id="faqCollapseSeven"
              class="accordion-collapse collapse"
              aria-labelledby="faqHeadingSeven"
              data-bs-parent="#faqAccordion"
            >
              <div class="accordion-body">
                Có thể, nếu hệ thống vẫn còn lưu trữ dữ liệu điểm thi từ các năm
                trước. Vui lòng nhập chính xác mã học sinh hoặc liên hệ nhà
                trường để hỗ trợ.
              </div>
            </div>
          </div>

          <!-- Câu hỏi 8 -->
          <div class="accordion-item">
            <h2 class="accordion-header" id="faqHeadingEight">
              <button
                class="accordion-button collapsed"
                type="button"
                data-bs-toggle="collapse"
                data-bs-target="#faqCollapseEight"
                aria-expanded="false"
                aria-controls="faqCollapseEight"
              >
                6. Nếu phát hiện điểm sai thì phải làm gì?
              </button>
            </h2>
            <div
              id="faqCollapseEight"
              class="accordion-collapse collapse"
              aria-labelledby="faqHeadingEight"
              data-bs-parent="#faqAccordion"
            >
              <div class="accordion-body">
                Trong trường hợp phát hiện điểm sai, bạn nên liên hệ với giáo
                viên chủ nhiệm hoặc nhà trường để được
                <strong>kiểm tra và phúc khảo</strong> theo đúng quy trình.
              </div>
            </div>
          </div>
        </div>
        <div class="mt-5 text-center text-muted small">
          <strong>Từ khóa tìm kiếm phổ biến:</strong>
          <div>
            <span>tra cứu điểm thi Hà Nam</span>,
            <span>hanam.edu.vn điểm thi</span>,
            <span>xem điểm thi THPT Hà Nam</span>,
            <span>tra cứu điểm hanam edu vn</span>,
            <span>tra điểm nhanh Hà Nam</span>,
            <span>điểm thi hanam edu vn</span>,
            <span>điểm thi lớp 9 Hà Nam</span>,
            <span>điểm thi lớp 12 Hà Nam</span>,
            <span>tra cứu điểm vào lớp 10 Hà Nam</span>,
            <span>tra cứu điểm thi THPT quốc gia Hà Nam</span>,
            <span>xem điểm thi online Hà Nam</span>,
            <span>tra cứu điểm thi hà nam edu vn</span>
          </div>
        </div>
      </article>
    </main>
    <footer class="text-center">
      <p class="footer--copyright">
        <span id="footer--mobile" class="text-white"
          >© 2022-<span id="year_mobile"></span>
          <a
            href="https://tunaduong.com"
            class="text-reset text-decoration-none"
            >Duong Tung Anh</a
          ><br /><span
            style="font-weight: 300; font-size: 15px"
            class="text-white-50"
            >All rights reserved</span
          ></span
        >
        <span id="footer--desktop" class="text-white"
          >© 2022-<span id="year_desktop"></span>
          <a
            href="https://tunaduong.com"
            class="text-reset text-decoration-none"
            >Duong Tung Anh</a
          >. All rights reserved.</span
        >
      </p>
      <p class="footer--fun text-white-50">
        Được làm bằng 💕 <i>tình yêu</i>, 🔥 <i>nhiệt huyết</i>, ⌨️
        <i>bàn phím</i> và rất nhiều ☕️ <i>cà phê</i>.
      </p>
      <p>
        <a href="https://github.com/tunnaduong/tool-lay-diem-hanam-edu-vn">
          <img
            src="https://img.shields.io/github/last-commit/tunnaduong/tool-lay-diem-hanam-edu-vn/main?label=C%E1%BA%ADp%20nh%E1%BA%ADt%20l%E1%BA%A7n%20cu%E1%BB%91i"
            alt="Cập nhật lần cuối"
          />
        </a>
      </p>
      <p class="text-white-50 small" x-data="app" x-text="version"></p>
    </footer>
    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment.min.js"></script>
    <!-- Load Moment-Timezone with all time zone data -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment-timezone/0.5.43/moment-timezone-with-data-10-year-range.min.js"></script>
    <!-- Vercel Analytics -->
    <script>
      window.va =
        window.va ||
        function () {
          (window.vaq = window.vaq || []).push(arguments);
        };
    </script>
    <script defer src="/_vercel/insights/script.js"></script>
    <!-- Start of OpenWidget (www.openwidget.com) code -->
    <script>
      window.__ow = window.__ow || {};
      window.__ow.organizationId = "b0255469-c6ed-4b0a-854b-cc615e3ae00b";
      window.__ow.integration_name = "manual_settings";
      window.__ow.product_name = "openwidget";
      (function (n, t, c) {
        function i(n) {
          return e._h ? e._h.apply(null, n) : e._q.push(n);
        }
        var e = {
          _q: [],
          _h: null,
          _v: "2.0",
          on: function () {
            i(["on", c.call(arguments)]);
          },
          once: function () {
            i(["once", c.call(arguments)]);
          },
          off: function () {
            i(["off", c.call(arguments)]);
          },
          get: function () {
            if (!e._h)
              throw new Error(
                "[OpenWidget] You can't use getters before load."
              );
            return i(["get", c.call(arguments)]);
          },
          call: function () {
            i(["call", c.call(arguments)]);
          },
          init: function () {
            var n = t.createElement("script");
            (n.async = !0),
              (n.type = "text/javascript"),
              (n.src = "https://cdn.openwidget.com/openwidget.js"),
              t.head.appendChild(n);
          },
        };
        !n.__ow.asyncInit && e.init(), (n.OpenWidget = n.OpenWidget || e);
      })(window, document, [].slice);
    </script>
    <noscript
      >You need to
      <a
        href="https://www.openwidget.com/enable-javascript"
        rel="noopener nofollow"
        >enable JavaScript</a
      >
      to use the communication tool powered by
      <a
        href="https://www.openwidget.com/"
        rel="noopener nofollow"
        target="_blank"
        >OpenWidget</a
      ></noscript
    >
    <!-- End of OpenWidget code -->

    <script type="module" src="script.js"></script>
  </body>
</html>
